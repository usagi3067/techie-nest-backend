DROP TABLE IF EXISTS `course_publish`;

CREATE TABLE `course_publish`
(
    `id`             bigint       NOT NULL COMMENT '主键',
    `company_id`     bigint       NOT NULL COMMENT '机构ID',
    `company_name`   varchar(255) DEFAULT NULL COMMENT '公司名称',
    `name`           varchar(100) NOT NULL COMMENT '课程名称',
    `users`          varchar(500) NOT NULL COMMENT '适用人群',
    `tags`           varchar(32)  DEFAULT NULL COMMENT '标签',
    `username`       varchar(32)  DEFAULT NULL COMMENT '创建人',
    `mt`             varchar(20)  NOT NULL COMMENT '大分类',
    `mt_name`        varchar(255) NOT NULL COMMENT '大分类名称',
    `st`             varchar(20)  NOT NULL COMMENT '小分类',
    `st_name`        varchar(255) NOT NULL COMMENT '小分类名称',
    `grade`          varchar(32)  NOT NULL COMMENT '课程等级',
    `teach_mode`     varchar(32)  NOT NULL COMMENT '教育模式',
    `pic`            varchar(500) NOT NULL COMMENT '课程图片',
    `description`    text COMMENT '课程介绍',
    `market`         text COMMENT '课程营销信息，json格式',
    `teach_plan`     text COMMENT '所有课程计划，json格式',
    `teachers`       text COMMENT '教师信息，json格式',
    `create_date`    datetime     DEFAULT NULL COMMENT '发布时间',
    `online_date`    datetime     DEFAULT NULL COMMENT '上架时间',
    `offline_date`   datetime     DEFAULT NULL COMMENT '下架时间',
    `status`         varchar(10)  DEFAULT '1' COMMENT '发布状态',
    `remark`         varchar(500) DEFAULT NULL COMMENT '备注',
    `charge`         varchar(32)  DEFAULT NULL COMMENT '收费规则，对应数据字典--203',
    `price`          float(10, 2) DEFAULT NULL COMMENT '现价',
    `original_price` float(10, 2) DEFAULT NULL COMMENT '原价',
    `valid_days`     int          DEFAULT NULL COMMENT '课程有效期天数',
    PRIMARY KEY (`id`) USING BTREE
) COMMENT ='课程发布';

INSERT INTO `course_publish` (`id`, `company_id`, `company_name`, `name`, `users`, `tags`, `username`, `mt`, `mt_name`,
                              `st`, `st_name`, `grade`, `teach_mode`, `pic`, `description`, `market`, `teach_plan`,
                              `teachers`, `create_date`, `online_date`, `offline_date`, `status`, `remark`, `charge`,
                              `price`, `original_price`, `valid_days`)
VALUES (2, 1232141425, 'Test1', '测试课程01', 'IT爱好者IT爱好者IT爱好者IT爱好者IT爱好者IT爱好者IT爱好者IT爱好者',
        '课程标签', NULL, '1-1', '前端开发', '1-1-1', 'HTML/CSS', '204001', '200002',
        '/mediafiles/2022/09/18/a16da7a132559daf9e1193166b3e7f52.jpg',
        '测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程测试课程',
        '{\"charge\":\"201001\",\"id\":2,\"originalPrice\":11111.0,\"phone\":\"4444\",\"price\":1.0,\"qq\":\"2222\",\"validDays\":555,\"wechat\":\"3333\"}',
        '[{\"courseId\":2,\"grade\":1,\"id\":266,\"isPreview\":\"0\",\"orderby\":1,\"parentid\":0,\"pname\":\"第1章\",\"teachPlanTreeNodes\":[{\"courseId\":2,\"grade\":2,\"id\":267,\"isPreview\":\"0\",\"orderby\":1,\"parentid\":266,\"pname\":\"第1节\",\"teachPlanMedia\":{\"courseId\":2,\"teachPlanId\":267}}]}]',
        NULL, '2022-09-25 22:35:19', NULL, NULL, '203002', NULL, '201001', 1.00, 11111.00, 555),
       (18, 1232141425, NULL, 'java零基础入门v2.0', 'java小白java小白java小白java小白', 'aa', NULL, '1-3', '编程开发',
        '1-3-2', 'Java', '200001', '200002', '/mediafiles/2022/12/18/a61805e1360ab946def5471aaefc0a98.jpg',
        'java零基础入门v2.0java零基础入门v2.0java零基础入门v2.0java零基础入门v2.0',
        '{\"charge\":\"201001\",\"id\":18,\"originalPrice\":111.0,\"phone\":\"13333333\",\"price\":11.0,\"qq\":\"123456\",\"validDays\":365,\"wechat\":\"654321\"}',
        '[{\"courseId\":18,\"grade\":1,\"id\":279,\"orderby\":1,\"parentid\":0,\"pname\":\"第一章xxx\",\"teachPlanTreeNodes\":[{\"courseId\":18,\"grade\":2,\"id\":280,\"orderby\":1,\"parentid\":279,\"pname\":\"第一节xxx\",\"teachPlanMedia\":{\"id\":49,\"mediaFilename\":\"垂直分库-插入和查询测试.avi\",\"mediaId\":\"18f919e23bedab97a78762c4875addc4\"}}]}]',
        NULL, '2019-09-04 09:56:19', NULL, NULL, '203002', NULL, '201001', 11.00, 111.00, 365),
       (117, 1232141425, NULL, 'Nacos微服务开发实战', '中高级Java开发工程师', '', NULL, '1-3', '编程开发', '1-3-2',
        'Java', '204002', '200002', '/mediafiles/2022/10/04/8026f17cf7b8697eccec2c8406d0c96c.png',
        'Nacos 是阿里巴巴推出来的一个新开源项目，这是一个更易于构建云原生应用的动态服务发现、配置管理和服务管理平台。\n\nNacos 致力于帮助您发现、配置和管理微服务。Nacos 提供了一组简单易用的特性集，帮助您快速实现动态服务发现、服务配置、服务元数据及流量管理。\n\nNacos 帮助您更敏捷和容易地构建、交付和管理微服务平台。 Nacos 是构建以“服务”为中心的现代应用架构 (例如微服务范式、云原生范式) 的服务基础设施\n\nNacos 支持如下核心特性：\n\n1）服务发现： 支持 DNS 与 RPC 服务发现，也提供原生 SDK 、OpenAPI 等多种服务注册方式和 DNS、HTTP 与 API 等多种服务发现方式。\n2）服务健康监测： Nacos 提供对服务的实时的健康检查，阻止向不健康的主机或服务实例发送请求。\n3）动态配置服务： Nacos 提供配置统一管理功能，能够帮助我们将配置以中心化、外部化和动态化的方式管理所有环境的应用配置和服务配置。\n4）动态 DNS 服务： Nacos 支持动态 DNS 服务权重路由，能够让我们很容易地实现中间层负载均衡、更灵活的路由策略、流量控制以及数据中心内网的简单 DNS 解析服务。\n5）服务及其元数据管理： Nacos 支持从微服务平台建设的视角管理数据中心的所有服务及元数据，包括管理服务的描述、生命周期、服务的静态依赖分析、服务的健康状态、服务的流量管理、路由及安全策略、服务的 SLA 以及最首要的 metrics 统计数据。',
        '{\"charge\":\"201001\",\"id\":117,\"originalPrice\":198.0,\"phone\":\"24965575\",\"price\":1.0,\"qq\":\"24965575\",\"validDays\":365,\"wechat\":\"24965575\"}',
        '[{\"courseId\":117,\"grade\":1,\"id\":268,\"isPreview\":\"0\",\"orderby\":1,\"parentid\":0,\"pname\":\"1.配置管理\",\"teachPlanTreeNodes\":[{\"courseId\":117,\"grade\":2,\"id\":269,\"isPreview\":\"1\",\"orderby\":1,\"parentid\":268,\"pname\":\"1.1 什么是配置中心\",\"teachPlanMedia\":{\"courseId\":117,\"id\":40,\"mediaFilename\":\"01-Nacos配置管理-内容介绍.avi\",\"mediaId\":\"3a5a861d1c745d05166132c47b44f9e4\",\"teachPlanId\":269}},{\"courseId\":117,\"grade\":2,\"id\":270,\"isPreview\":\"0\",\"orderby\":2,\"parentid\":268,\"pname\":\"1.2Nacos简介\",\"teachPlanMedia\":{\"courseId\":117,\"id\":41,\"mediaFilename\":\"16-Nacos配置管理-课程总结.avi\",\"mediaId\":\"23f83ae728bd1269eee7ea2236e79644\",\"teachPlanId\":270}},{\"courseId\":117,\"grade\":2,\"id\":271,\"isPreview\":\"0\",\"orderby\":3,\"parentid\":268,\"pname\":\"1.3安装Nacos Server\",\"teachPlanMedia\":{\"courseId\":117,\"id\":42,\"mediaFilename\":\"01-Nacos配置管理-内容介绍.avi\",\"mediaId\":\"3a5a861d1c745d05166132c47b44f9e4\",\"teachPlanId\":271}},{\"courseId\":117,\"grade\":2,\"id\":272,\"isPreview\":\"0\",\"orderby\":4,\"parentid\":268,\"pname\":\"1.4Nacos配置入门\",\"teachPlanMedia\":{\"courseId\":117,\"id\":43,\"mediaFilename\":\"01-Nacos配置管理-内容介绍.avi\",\"mediaId\":\"3a5a861d1c745d05166132c47b44f9e4\",\"teachPlanId\":272}},{\"courseId\":117,\"grade\":2,\"id\":273,\"isPreview\":\"0\",\"orderby\":5,\"parentid\":268,\"pname\":\"1.5命名空间管理\",\"teachPlanMedia\":{\"courseId\":117,\"id\":44,\"mediaFilename\":\"16-Nacos配置管理-课程总结.avi\",\"mediaId\":\"23f83ae728bd1269eee7ea2236e79644\",\"teachPlanId\":273}}]},{\"courseId\":117,\"grade\":1,\"id\":274,\"isPreview\":\"0\",\"orderby\":2,\"parentid\":0,\"pname\":\"2.服务发现\",\"teachPlanTreeNodes\":[{\"courseId\":117,\"grade\":2,\"id\":275,\"isPreview\":\"0\",\"orderby\":1,\"parentid\":274,\"pname\":\"2.1什么是服务发现\",\"teachPlanMedia\":{\"courseId\":117,\"id\":45,\"mediaFilename\":\"01-分布式事务专题课程介绍.avi\",\"mediaId\":\"1f229319d6fed3431d2f9d06193a433b\",\"teachPlanId\":275}},{\"courseId\":117,\"grade\":2,\"id\":276,\"isPreview\":\"0\",\"orderby\":2,\"parentid\":274,\"pname\":\"2.2服务发现快速入门\",\"teachPlanMedia\":{\"courseId\":117,\"id\":46,\"mediaFilename\":\"07-分布式事务基础理论-BASE理论.avi\",\"mediaId\":\"6ad24a762f67c18f61966c1b8c55abe6\",\"teachPlanId\":276}},{\"courseId\":117,\"grade\":2,\"id\":277,\"isPreview\":\"0\",\"orderby\":3,\"parentid\":274,\"pname\":\"2.3服务发现数据模型\",\"teachPlanMedia\":{\"courseId\":117,\"id\":47,\"mediaFilename\":\"01-分布式事务专题课程介绍.avi\",\"mediaId\":\"1f229319d6fed3431d2f9d06193a433b\",\"teachPlanId\":277}},{\"courseId\":117,\"grade\":2,\"id\":278,\"isPreview\":\"0\",\"orderby\":4,\"parentid\":274,\"pname\":\"2.4服务列表管理\",\"teachPlanMedia\":{\"courseId\":117,\"id\":48,\"mediaFilename\":\"07-分布式事务基础理论-BASE理论.avi\",\"mediaId\":\"6ad24a762f67c18f61966c1b8c55abe6\",\"teachPlanId\":278}}]}]',
        NULL, '2022-10-04 19:14:50', NULL, NULL, '203002', NULL, '201001', 1.00, 198.00, 365),
       (121, 1232141425, NULL, 'Spring Cloud 开发实战', '具有web开发基础', '', NULL, '1-3', '编程开发', '1-3-2', 'Java',
        '204002', '200002', '/mediafiles/2023/02/09/ef29eb93515e32f2d897956d5d914db7.png',
        'Spring Cloud是一系列框架的有序集合。它利用Spring Boot的开发便利性巧妙地简化了分布式系统基础设施的开发，如服务发现注册、配置中心、消息总线、负载均衡、断路器、数据监控等，都可以用Spring Boot的开发风格做到一键启动和部署。Spring Cloud并没有重复制造轮子，它只是将各家公司开发的比较成熟、经得起实际考验的服务框架组合起来，通过Spring Boot风格进行再封装屏蔽掉了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。',
        '{\"charge\":\"201001\",\"id\":121,\"originalPrice\":100.0,\"phone\":\"432432\",\"price\":1.0,\"qq\":\"2323232\",\"validDays\":365,\"wechat\":\"3232432\"}',
        '[{\"courseId\":121,\"grade\":1,\"id\":281,\"orderby\":1,\"parentid\":0,\"pname\":\"第1章 SpringCloud概述\",\"teachPlanTreeNodes\":[{\"courseId\":121,\"grade\":2,\"id\":282,\"orderby\":1,\"parentid\":281,\"pname\":\"Spring Cloud发展历史\",\"teachPlanMedia\":{\"id\":57,\"mediaFilename\":\"01-分布式事务专题课程介绍.avi\",\"mediaId\":\"1f229319d6fed3431d2f9d06193a433b\"}},{\"courseId\":121,\"grade\":2,\"id\":283,\"orderby\":2,\"parentid\":281,\"pname\":\"Spring Cloud与SpringBoot的关系\",\"teachPlanMedia\":{\"id\":51,\"mediaFilename\":\"nacos01.mp4\",\"mediaId\":\"287cdd91c5d444e0752b626cbd95b41c\"}}]},{\"courseId\":121,\"grade\":1,\"id\":284,\"orderby\":2,\"parentid\":0,\"pname\":\"第2章 基础组件\",\"teachPlanTreeNodes\":[{\"courseId\":121,\"grade\":2,\"id\":285,\"orderby\":1,\"parentid\":284,\"pname\":\"服务注册中心\",\"teachPlanMedia\":{\"id\":52,\"mediaFilename\":\"01-分布式事务专题课程介绍.avi\",\"mediaId\":\"1f229319d6fed3431d2f9d06193a433b\"}},{\"courseId\":121,\"grade\":2,\"id\":286,\"orderby\":2,\"parentid\":284,\"pname\":\"配置中心\",\"teachPlanMedia\":{\"id\":53,\"mediaFilename\":\"垂直分库-插入和查询测试.avi\",\"mediaId\":\"18f919e23bedab97a78762c4875addc4\"}},{\"courseId\":121,\"grade\":2,\"id\":287,\"orderby\":3,\"parentid\":284,\"pname\":\"负载均衡\",\"teachPlanMedia\":{\"id\":54,\"mediaFilename\":\"01-分布式事务专题课程介绍.avi\",\"mediaId\":\"1f229319d6fed3431d2f9d06193a433b\"}},{\"courseId\":121,\"grade\":2,\"id\":288,\"orderby\":4,\"parentid\":284,\"pname\":\"远程调用\",\"teachPlanMedia\":{\"id\":55,\"mediaFilename\":\"16-Nacos配置管理-课程总结.avi\",\"mediaId\":\"23f83ae728bd1269eee7ea2236e79644\"}},{\"courseId\":121,\"grade\":2,\"id\":289,\"orderby\":5,\"parentid\":284,\"pname\":\"熔断降级\",\"teachPlanMedia\":{\"id\":56,\"mediaFilename\":\"16-Nacos配置管理-课程总结.avi\",\"mediaId\":\"23f83ae728bd1269eee7ea2236e79644\"}}]}]',
        NULL, '2023-02-09 11:10:42', NULL, NULL, '203002', NULL, '201001', 1.00, 100.00, 365);

